<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super Jump Adventure - V2</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- LOADING SCREEN -->
    <div id="loadingScreen" class="screen active">
        <div class="loader">
            <div class="loader-spinner"></div>
            <h2>Đang tải game...</h2>
            <div class="progress-bar">
                <div id="loadingProgress" class="progress"></div>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- MENU CHÍNH -->
        <div id="mainMenu" class="screen">
            <div class="game-title">
                <h1><i class="fas fa-crown"></i> SUPER JUMP</h1>
                <h2>ADVENTURE</h2>
                <div class="title-decoration"></div>
            </div>
            
            <div class="menu-buttons">
                <button id="playBtn" class="btn btn-primary">
                    <i class="fas fa-play-circle"></i>
                    <span>CHƠI NGAY</span>
                </button>
                <button id="levelsBtn" class="btn btn-secondary">
                    <i class="fas fa-layer-group"></i>
                    <span>CHỌN MÀN</span>
                </button>
                <button id="shopBtn" class="btn btn-shop">
                    <i class="fas fa-gem"></i>
                    <span>CỬA HÀNG</span>
                </button>
                <button id="helpBtn" class="btn btn-help">
                    <i class="fas fa-info-circle"></i>
                    <span>HƯỚNG DẪN</span>
                </button>
                <button id="settingsBtn" class="btn btn-settings">
                    <i class="fas fa-cog"></i>
                    <span>CÀI ĐẶT</span>
                </button>
            </div>

            <div class="player-stats">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-coins"></i>
                    </div>
                    <div class="stat-info">
                        <span class="stat-label">Tổng Xu</span>
                        <span id="coinCount" class="stat-value">0</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <div class="stat-info">
                        <span class="stat-label">Màn đã mở</span>
                        <span id="unlockedCount" class="stat-value">1/10</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-user-circle"></i>
                    </div>
                    <div class="stat-info">
                        <span class="stat-label">Nhân vật</span>
                        <span id="currentChar" class="stat-value">Leo</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- MÀN HÌNH CHỌN MÀN -->
        <div id="levelsMenu" class="screen">
            <h2 class="section-title">
                <i class="fas fa-map-marked-alt"></i>
                CHỌN MÀN
            </h2>
            <div class="levels-container">
                <div class="levels-grid" id="levelsGrid">
                    <!-- Các màn sẽ được tạo bằng JavaScript -->
                </div>
            </div>
            <button id="backFromLevels" class="btn back-btn">
                <i class="fas fa-arrow-left"></i>
                <span>QUAY LẠI</span>
            </button>
        </div>

        <!-- CỬA HÀNG -->
        <div id="shopMenu" class="screen">
            <h2 class="section-title">
                <i class="fas fa-shopping-bag"></i>
                CỬA HÀNG
            </h2>
            <div class="shop-container">
                <div class="shop-header">
                    <span class="shop-coins">
                        <i class="fas fa-coins"></i>
                        <span id="shopCoinCount">0</span> xu
                    </span>
                </div>
                <div class="characters-grid" id="charactersGrid">
                    <!-- Nhân vật sẽ được tạo bằng JavaScript -->
                </div>
            </div>
            <button id="backFromShop" class="btn back-btn">
                <i class="fas fa-arrow-left"></i>
                <span>QUAY LẠI</span>
            </button>
        </div>

        <!-- HƯỚNG DẪN -->
        <div id="helpMenu" class="screen">
            <div class="help-container">
                <h2 class="section-title">
                    <i class="fas fa-book-open"></i>
                    HƯỚNG DẪN CHƠI
                </h2>
                
                <div class="instructions-grid">
                    <div class="instruction-card">
                        <div class="instruction-icon">
                            <i class="fas fa-gamepad"></i>
                        </div>
                        <h3>Điều Khiển</h3>
                        <div class="controls-list">
                            <div class="control-item">
                                <span class="key"><i class="fas fa-arrow-left"></i></span>
                                <span class="key"><i class="fas fa-arrow-right"></i></span>
                                <span>Di chuyển trái/phải</span>
                            </div>
                            <div class="control-item">
                                <span class="key">SPACE</span>
                                <span>Nhảy</span>
                            </div>
                            <div class="control-item">
                                <span class="key">P</span>
                                <span>Tạm dừng</span>
                            </div>
                            <div class="control-item">
                                <span class="key">R</span>
                                <span>Chơi lại</span>
                            </div>
                        </div>
                    </div>

                    <div class="instruction-card">
                        <div class="instruction-icon">
                            <i class="fas fa-bullseye"></i>
                        </div>
                        <h3>Mục Tiêu</h3>
                        <ul class="goals-list">
                            <li><i class="fas fa-flag-checkered"></i> Chạm cờ để hoàn thành màn</li>
                            <li><i class="fas fa-coins"></i> Thu thập càng nhiều xu càng tốt</li>
                            <li><i class="fas fa-skull-crossbones"></i> Tránh gai và kẻ thù</li>
                            <li><i class="fas fa-user-plus"></i> Mở khóa nhân vật mới</li>
                        </ul>
                    </div>

                    <div class="instruction-card">
                        <div class="instruction-icon">
                            <i class="fas fa-lightbulb"></i>
                        </div>
                        <h3>Mẹo Hay</h3>
                        <div class="tips-list">
                            <div class="tip">
                                <i class="fas fa-rocket"></i>
                                <p>Thu thập xu kim cương để mua nhân vật nhanh hơn</p>
                            </div>
                            <div class="tip">
                                <i class="fas fa-shoe-prints"></i>
                                <p>Nhấn giữ nút nhảy để nhảy cao hơn</p>
                            </div>
                            <div class="tip">
                                <i class="fas fa-history"></i>
                                <p>Quan sát kỹ trước khi nhảy</p>
                            </div>
                            <div class="tip">
                                <i class="fas fa-store"></i>
                                <p>Mua Ninja Kai đầu tiên để dễ dàng hơn</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <button id="backFromHelp" class="btn back-btn">
                <i class="fas fa-arrow-left"></i>
                <span>QUAY LẠI</span>
            </button>
        </div>

        <!-- CÀI ĐẶT -->
        <div id="settingsMenu" class="screen">
            <h2 class="section-title">
                <i class="fas fa-sliders-h"></i>
                CÀI ĐẶT
            </h2>
            <div class="settings-container">
                <div class="setting-item">
                    <label for="musicVolume">
                        <i class="fas fa-music"></i> Âm nhạc
                    </label>
                    <input type="range" id="musicVolume" min="0" max="100" value="50">
                    <span id="musicValue">50%</span>
                </div>
                <div class="setting-item">
                    <label for="soundVolume">
                        <i class="fas fa-volume-up"></i> Âm thanh
                    </label>
                    <input type="range" id="soundVolume" min="0" max="100" value="70">
                    <span id="soundValue">70%</span>
                </div>
                <div class="setting-item">
                    <label for="difficulty">
                        <i class="fas fa-chart-line"></i> Độ khó
                    </label>
                    <select id="difficulty">
                        <option value="easy">Dễ</option>
                        <option value="medium" selected>Trung bình</option>
                        <option value="hard">Khó</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label for="graphics">
                        <i class="fas fa-tv"></i> Đồ họa
                    </label>
                    <select id="graphics">
                        <option value="low">Thấp</option>
                        <option value="medium" selected>Trung bình</option>
                        <option value="high">Cao</option>
                    </select>
                </div>
                <button id="resetBtn" class="btn btn-danger">
                    <i class="fas fa-trash-alt"></i>
                    <span>XÓA DỮ LIỆU</span>
                </button>
            </div>
            <button id="backFromSettings" class="btn back-btn">
                <i class="fas fa-arrow-left"></i>
                <span>QUAY LẠI</span>
            </button>
        </div>

        <!-- GAME SCREEN -->
        <div id="gameScreen" class="screen">
            <div class="game-ui">
                <div class="ui-left">
                    <div class="ui-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>Màn <span id="currentLevel">1</span></span>
                    </div>
                    <div class="ui-item">
                        <i class="fas fa-coins"></i>
                        <span id="gameCoins">0</span>
                    </div>
                </div>
                <div class="ui-center">
                    <div class="character-display">
                        <i class="fas fa-user"></i>
                        <span id="gameChar">Leo</span>
                    </div>
                </div>
                <div class="ui-right">
                    <div class="ui-item">
                        <i class="fas fa-heart"></i>
                        <span id="healthCount">3</span>
                    </div>
                    <div class="ui-item">
                        <i class="fas fa-clock"></i>
                        <span id="timeCount">00:00</span>
                    </div>
                </div>
            </div>

            <div class="game-container">
                <canvas id="gameCanvas" width="1000" height="600"></canvas>
                
                <div class="game-overlay">
                    <div id="pauseOverlay" class="overlay-content hidden">
                        <h2><i class="fas fa-pause"></i> TẠM DỪNG</h2>
                        <div class="overlay-buttons">
                            <button id="resumeBtn" class="btn btn-primary">
                                <i class="fas fa-play"></i>
                                <span>TIẾP TỤC</span>
                            </button>
                            <button id="restartLevelBtn" class="btn btn-secondary">
                                <i class="fas fa-redo"></i>
                                <span>CHƠI LẠI</span>
                            </button>
                            <button id="quitToMenuBtn" class="btn btn-danger">
                                <i class="fas fa-home"></i>
                                <span>VỀ MENU</span>
                            </button>
                        </div>
                    </div>

                    <div id="gameOverOverlay" class="overlay-content hidden">
                        <h2><i class="fas fa-skull"></i> THẤT BẠI!</h2>
                        <div class="overlay-stats">
                            <p>Màn: <span id="failLevel">1</span></p>
                            <p>Xu thu được: <span id="failCoins">0</span></p>
                            <p>Thời gian: <span id="failTime">00:00</span></p>
                        </div>
                        <div class="overlay-buttons">
                            <button id="retryBtn" class="btn btn-primary">
                                <i class="fas fa-redo"></i>
                                <span>CHƠI LẠI</span>
                            </button>
                            <button id="quitAfterFailBtn" class="btn btn-danger">
                                <i class="fas fa-home"></i>
                                <span>VỀ MENU</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- MÀN HÌNH KẾT THÚC -->
        <div id="endScreen" class="screen">
            <div class="end-container">
                <div class="end-header">
                    <i class="fas fa-trophy trophy-icon"></i>
                    <h2 id="endTitle">HOÀN THÀNH!</h2>
                    <p id="endMessage">Bạn đã hoàn thành màn chơi!</p>
                </div>

                <div class="end-stats">
                    <div class="stat-row">
                        <div class="stat-box">
                            <i class="fas fa-flag-checkered"></i>
                            <div class="stat-info">
                                <span class="stat-label">Màn hoàn thành</span>
                                <span id="endLevel" class="stat-value">1</span>
                            </div>
                        </div>
                        <div class="stat-box">
                            <i class="fas fa-clock"></i>
                            <div class="stat-info">
                                <span class="stat-label">Thời gian</span>
                                <span id="endTime" class="stat-value">00:00</span>
                            </div>
                        </div>
                    </div>
                    <div class="stat-row">
                        <div class="stat-box">
                            <i class="fas fa-coins"></i>
                            <div class="stat-info">
                                <span class="stat-label">Xu thu được</span>
                                <span id="endCoins" class="stat-value">0</span>
                            </div>
                        </div>
                        <div class="stat-box">
                            <i class="fas fa-gem"></i>
                            <div class="stat-info">
                                <span class="stat-label">Xu tổng</span>
                                <span id="totalCoins" class="stat-value">0</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="end-buttons">
                    <button id="nextLevelBtn" class="btn btn-primary">
                        <i class="fas fa-forward"></i>
                        <span>MÀN TIẾP THEO</span>
                    </button>
                    <button id="playAgainBtn" class="btn btn-secondary">
                        <i class="fas fa-redo"></i>
                        <span>CHƠI LẠI</span>
                    </button>
                    <button id="backToMenuBtn" class="btn btn-danger">
                        <i class="fas fa-home"></i>
                        <span>VỀ MENU</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- AUDIO ELEMENTS -->
    <audio id="bgMusic" loop>
        <source src="https://assets.mixkit.co/music/preview/mixkit-game-show-suspense-waiting-667.mp3" type="audio/mpeg">
    </audio>
    <audio id="jumpSound"></audio>
    <audio id="coinSound"></audio>
    <audio id="hurtSound"></audio>
    <audio id="winSound"></audio>

    <script src="game.js"></script>
</body>
</html>
